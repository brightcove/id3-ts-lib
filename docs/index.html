<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>ID2-TS-LIB</h1><p>The fat-free ID3-only MPEG2TS segment generator library!</p>
<h2>Installation</h2><p>As a library (into your fancy project):</p>
<pre class="prettyprint source lang-sh"><code>$> npm install id3-ts-lib</code></pre><p>Usage:</p>
<pre class="prettyprint source lang-javascript"><code>const fs = require('fs');

// The whole library exposes just a single function:
const generateID3Segment = require('id3-ts-lib');

// If a PID is falsey, then that track will not be included in the generated PMT
const options = {
  pmtPid: 0x100,
  id3Pid: 0x103,
  videoPid: null,
  audioPid: null,
  id3PTS: 282743,
  data: 'This is just some example payload...',
};

// The function returns a promise that resolves to a buffer
generateID3Segment(options).then((segment) => {
  fs.writeSync('test.ts', segment);
});</code></pre><p>As a very rudimentary executable:</p>
<pre class="prettyprint source lang-sh"><code>$> npm install -g id3-ts-lib

$> id3-ts 'This is just some example payload...' > test.ts</code></pre><h2>Performance</h2><p>The entire segment construction process is performed using a single Buffer allocation. All operations are done in place including the ID3-creation which is &quot;chunked&quot; so that the ID3 can be created in-place &quot;around&quot; the TS packet headers. As a result, this code can generate an entire segment for a 4kb payload in about <em>0.16ms</em>.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-lib_crc32.html">lib/crc32</a></li><li><a href="module-lib_id3.html">lib/id3</a></li><li><a href="module-lib_pat.html">lib/pat</a></li><li><a href="module-lib_pes.html">lib/pes</a></li><li><a href="module-lib_pmt.html">lib/pmt</a></li><li><a href="module-lib_sizes.html">lib/sizes</a></li><li><a href="module-lib_ts.html">lib/ts</a></li></ul><h3>Global</h3><ul><li><a href="global.html#fillOutTSHeaders">fillOutTSHeaders</a></li><li><a href="global.html#generateID3Packets">generateID3Packets</a></li><li><a href="global.html#generateID3Segment">generateID3Segment</a></li><li><a href="global.html#packetEndBoundary">packetEndBoundary</a></li><li><a href="global.html#writeHeaderPadding">writeHeaderPadding</a></li><li><a href="global.html#writeID3TagChunked">writeID3TagChunked</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Mar 21 2019 23:47:40 GMT-0700 (Mountain Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>